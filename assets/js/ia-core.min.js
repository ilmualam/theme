/*! PBT Core v2.0 - Vanilla JS Library | (c) 2025 | Minified */
!function(e){"use strict";const t=e=>"string"==typeof e?e.startsWith("#")&&!e.includes(" ")?document.getElementById(e.slice(1)):document.querySelectorAll(e):e;NodeList.prototype.each=function(e){return this.forEach(e),this},NodeList.prototype.addClass=function(e){return this.forEach(t=>t.classList.add(e)),this},NodeList.prototype.removeClass=function(e){return this.forEach(t=>t.classList.remove(e)),this},NodeList.prototype.toggleClass=function(e){return this.forEach(t=>t.classList.toggle(e)),this},NodeList.prototype.on=function(e,t){return this.forEach(n=>n.addEventListener(e,t)),this},NodeList.prototype.attr=function(e,t){return void 0===t?this[0]?this[0].getAttribute(e):null:(this.forEach(n=>n.setAttribute(e,t)),this)},NodeList.prototype.html=function(e){return void 0===e?this[0]?this[0].innerHTML:"":(this.forEach(t=>t.innerHTML=e),this)},NodeList.prototype.text=function(e){return void 0===e?this[0]?this[0].textContent:"":(this.forEach(t=>t.textContent=e),this)};const n={init(e){const n=t(e);n.each(e=>{const t=e.querySelectorAll("a"),n=Array.from(t);this.buildSubMenus(n,1),this.buildSubMenus(n,2),e.querySelectorAll(".sub").forEach(e=>{e.parentElement.classList.add("has-sub")});const o=e.querySelector(".widget");o&&o.classList.add("is-ready")})},buildSubMenus(e,t){const n=e.length;let o=null;for(let s=0;s<n;s++){const n=e[s],r=n.textContent,i=e[s+1];if("_"!==r.charAt(0)&&i&&"_"===i.textContent.charAt(0)){o=n.parentElement;const e=document.createElement("ul");e.className=`ul sub sm-${t}`,o.appendChild(e)}if("_"===r.charAt(0)){n.textContent=r.replace("_","");const e=o?.querySelector(`.sm-${t}`);e&&e.appendChild(n.parentElement)}}}},o={init(e,t={}){const n={content:"body",headings:"h1,h2,h3"},o=Object.assign(n,t),s="string"==typeof e?document.querySelector(e):e,r=document.querySelectorAll(`${o.content} ${o.headings}`);if(!s||!r.length)return;let i=[s],l=0;r.forEach(e=>{const t=e.textContent.trim();if(!t)return;let n=e.id||this.generateId(t);e.id=n;const o=parseInt(e.tagName.charAt(1));if(o>l){const e=i[0].children[i[0].children.length-1];if(e){const t=document.createElement(s.tagName);e.appendChild(t),i.unshift(t)}}else i.splice(0,Math.min(l-o,Math.max(i.length-1,0)));const r=document.createElement("li"),c=document.createElement("a");c.textContent=t,c.href=`#${n}`,r.appendChild(c),i[0].appendChild(r),l=o})},generateId(e){e.length||(e="?");let t=e.replace(/[^a-zA-Z ]/g,"").replace(/\s+/g,"_"),n="",o=1;for(;document.getElementById(t+n);)n="_"+o++;return t+n}},s={observer:null,init(e,t={}){const n={root:null,rootMargin:"50px",threshold:.1,onScroll:!0},o=Object.assign(n,t);this.observer||(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.loadImage(e.target),this.observer.unobserve(e.target))})},o));const s="string"==typeof e?document.querySelectorAll(e):e;s.forEach(e=>{e.dataset.src&&this.observer.observe(e)})},loadImage(e){const t=e.dataset.src;if(!t)return;let n=this.processBloggerUrl(t,e);const o=new Image;o.onload=()=>{"IMG"===e.tagName?e.src=n:e.style.backgroundImage=`url('${n}')`,e.classList.add("pbt-lazy-loaded")},o.src=n},processBloggerUrl(e,t){const n=t.offsetWidth>=1?t.offsetWidth:1,o=t.offsetHeight>=1?t.offsetHeight:1,s=`w${Math.round(n+n/2)}-h${Math.round(o+o/2)}-p-k-no-nu-rw`;return e.includes("resources.blogblog.com")&&(e="undefined"!=typeof noThumbnail?noThumbnail:window.pbt?.noThumb||e),e.includes("/img/a")||e.includes("/blogger_img_proxy")?e=(e.includes("=")?e.split("=")[0]:e)+"=w72-h72-p-k-no-nu":e,e.includes("/blogger_img_proxy")&&e.includes("testonly")&&(e=e.replace("-testonly.",".")),e.includes("w72-h72-p-k-no-nu")?e.includes("=")?e.replace("=w72-h72-p-k-no-nu","="+s):e.replace("/w72-h72-p-k-no-nu","/"+s):e}},r={fadeIn(e,t=300){e.style.opacity=0,e.style.display="block";let n=performance.now();const o=e=>{const s=e-n,r=Math.min(s/t,1);e.style.opacity=r,r<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},slideToggle(e,t=300){const n=e.offsetHeight>0,o=n?0:e.scrollHeight,s=e.offsetHeight;let r=performance.now();const i=l=>{const c=l-r,a=Math.min(c/t,1),u=s+(o-s)*a;e.style.height=u+"px",a<1?requestAnimationFrame(i):n?e.style.display="none":e.style.height="auto"};n||(e.style.display="block",e.style.height="0px"),requestAnimationFrame(i)},smoothScroll(e,t=500,n=0){const o="string"==typeof e?document.querySelector(e):e;if(!o)return;const s=o.getBoundingClientRect().top+window.pageYOffset-n,r=window.pageYOffset,i=s-r;let l=performance.now();const c=e=>{const n=e-l,o=Math.min(n/t,1),a=o<.5?2*o*o:-1+(4-2*o)*o;window.scrollTo(0,r+i*a),o<1&&requestAnimationFrame(c)};requestAnimationFrame(c)}},i={set(e,t,n=7,o="/"){const s=new Date(Date.now()+864e5*n).toUTCString();document.cookie=`${e}=${encodeURIComponent(t)}; expires=${s}; path=${o}`},get(e){const t=document.cookie.split("; ").find(t=>t.startsWith(e+"="));return t?decodeURIComponent(t.split("=")[1]):null},remove(e,t="/"){this.set(e,"",-1,t)}};e.PBT={Menu:n,Toc:o,Lazy:s,Animate:r,Cookie:i,$:t}}(window);const DOMReady=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()};window.DOMReady=DOMReady;
